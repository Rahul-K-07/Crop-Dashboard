<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Unified Plant Traits Dashboard</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2Pkf6BqNo1DqF6b+EMF4kVb8aKZ0XQ7Z0VJ2JbYij6vZ1JQ7Bbn2T3G8kg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
</head>
<body>
    <div id="loadingOverlay" class="loading-overlay">
        <div class="loading-spinner">
            <i class="fas fa-seedling fa-spin"></i>
            <p>Loading plant data...</p>
        </div>
    </div>
    <div class="landing-page" id="landingPage">
        <h1>🌿 Unified Plant Traits Dashboard</h1>
        <p>Explore traits and adaptations of 500+ plant species interactively.</p>
        <input id="mainSearch" placeholder="🔍 Search a plant or filter by trait">
        <button class="action-btn" data-action="explore">Explore Traits</button>
        <button class="action-btn" data-action="compare">Compare Plants</button>
    </div>
    <div class="main-dashboard" id="mainDashboard" style="display:none;">
        <div class="sidebar">
            <label for="filterRootSystem">Root System</label>
            <select id="filterRootSystem" multiple></select>

            <label for="filterRootDepth">Root Depth / Type</label>
            <select id="filterRootDepth" multiple></select>

            <label for="filterGrowth">Growth Form</label>
            <select id="filterGrowth" multiple></select>

            <label for="filterStress">Stress Tolerance</label>
            <select id="filterStress" multiple></select>

            <label for="filterUsage">Usage</label>
            <select id="filterUsage" multiple></select>

            <hr>
            <label for="compareSelect">Compare Plants</label>
            <select id="compareSelect" multiple></select>
            <hr>
            <div class="filtered-list">
                <h3>Filtered Plants</h3>
                <div id="filteredList" class="list"></div>
            </div>
        </div>

        <div class="content">
            <ul class="tab-nav" id="dashboardTabs">
                <li class="tab-btn active" data-tab="explore">Explore Traits</li>
                <li class="tab-btn" data-tab="stress">Stress & Adaptations</li>
                <li class="tab-btn" data-tab="compare">Compare Plants</li>
            </ul>

            <div class="tab-panel active" id="exploreTab">
                <div id="rootTypeChart" class="chart"></div>
                <div id="sunburstChart" class="chart"></div>
                <button class="toggle-btn" data-toggle="wordcloud">Show Word Cloud</button>
                <div id="wordCloudChart" class="chart" style="display:none"></div>
                <div id="clusterChart" class="chart"></div>
                <div id="usageChart" class="chart"></div>
            </div>

            <div class="tab-panel" id="stressTab">
                <div id="stressBarChart" class="chart"></div>
                <div id="adaptationCards" class="card-grid"></div>
                <button class="toggle-btn" data-toggle="sankey">Show Sankey Diagram</button>
                <div id="sankeyChart" class="chart" style="display:none"></div>
            </div>

            <div class="tab-panel" id="compareTab">
                <div id="comparisonTable" class="table-responsive"></div>
                <div id="radarChart" class="chart"></div>
                <div id="similarPlants" class="similar-list"></div>
            </div>

            <button id="showAdvanced">Advanced Analytics</button>
            <div id="advancedAnalytics" style="display:none;">
                <div id="parallelCatsChart" class="chart"></div>
            </div>
        </div>
    </div>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
    <script src="{{ url_for('static', filename='js/dashboard.js') }}"></script>
</body>
</html>
